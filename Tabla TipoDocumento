
--Create tabla TIPO_DOCUMENTO;
CREATE TABLE tipo_documento (
    id_tipodocumento NUMBER PRIMARY KEY,
    nombre VARCHAR2(100) NOT NULL,
    documento CHAR(1),
    sigla VARCHAR2(10),
    codigo VARCHAR2(10),
    
    fecha_creacion TIMESTAMP,
    fecha_actualizacion TIMESTAMP,
    usuario_reacion NUMBER,
    usuario_actualizacion NUMBER
);
INSERT INTO TIPO_DOCUMENTO
(ID_TIPODOCUMENTO, NOMBRE, DOCUMENTO, SIGLA, CODIGO)
VALUES
(1,'DOCUMENTO NACIONAL DE IDENTIDAD',1,'DNI','01');
INSERT INTO TIPO_DOCUMENTO
(ID_TIPODOCUMENTO, NOMBRE, DOCUMENTO, SIGLA, CODIGO)
VALUES
(2,'PASAPORTE',2,'PASAPORTE','02');

INSERT INTO TIPO_DOCUMENTO
(ID_TIPODOCUMENTO, NOMBRE, DOCUMENTO, SIGLA, CODIGO)
VALUES
(3,'CARNET DE EXTRANJERIA',3,'CARNET EXT','03');
	
INSERT INTO TIPO_DOCUMENTO
(ID_TIPODOCUMENTO, NOMBRE, DOCUMENTO, SIGLA, CODIGO)
VALUES
(4,'PART. DE NACIMIENTO-IDENTIDAD',4,'	
P. NAC','04');

INSERT INTO TIPO_DOCUMENTO
(ID_TIPODOCUMENTO, NOMBRE, DOCUMENTO, SIGLA, CODIGO)
VALUES
(5,'OTRO',5,'OTRO','05');

//Crear una secuencia para TIPODOCUMENTO 
CREATE SEQUENCE SQ_TIPODOCUMENTO
   MINVALUE 10
   INCREMENT BY 2
   NOMAXVALUE;

--Crear un Trigger para TIPODOCUMENTO;
CREATE TRIGGER TRG_TIPODOCUMENTO
BEFORE INSERT ON TIPO_DOCUMENTO
FOR EACH ROW
BEGIN
   SELECT SQ_TIPODOCUMENTO.NEXTVAL INTO :NEW.id_tipodocumento FROM DUAL;
END;

SELECT * FROM TIPO_DOCUMENTO;
